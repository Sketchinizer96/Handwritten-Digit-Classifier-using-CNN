flowchart TD
    %% Top-Level
    A[Multi-Agent Organization]

    %% Agent Orchestration Layer
    A --> B[Agent Orchestration Layer]
    B --> B1[Orchestration Controller]
    B --> B2[Agent Directory Service]
    B --> B3[Communication Broker]
    B --> B4[Coordination Mechanisms]

    %% Agent Organization Types
    A --> C[Agent Organization Types]
    C --> C1[Hierarchical]
    C --> C2[Holonic]
    C --> C3[Coalition-Based]
    C --> C4[Market-Based]

    %% Individual Agent Architecture
    A --> D[Individual Agent Architecture (Enhanced BDI)]
    D --> D1[Belief System]
    D --> D2[Desire Engine]
    D --> D3[Intention Planner]
    D --> D4[Meta-Cognitive Layer]
    D --> D5[Memory Systems]

    D5 --> D5a[Working Memory]
    D5 --> D5b[Episodic Memory]
    D5 --> D5c[Semantic Memory]
    D5 --> D5d[Procedural Memory]
    D5 --> D5e[External Memory (Vector DBs)]

    %% Environment Interface
    A --> E[Environment Interface]
    E --> E1[Perception Systems]
    E --> E2[Action Execution]
    E --> E3[Tool Use Framework]
    E --> E4[Digital Environment Modeling]

    %% Foundation Models
    A --> F[Foundation Models & Multimodal Processing]
    F --> F1[LLM Integration]
    F --> F2[Model Selection & Routing]
    F --> F3[Multimodal Processing]

    %% Communication Infrastructure
    A --> G[Communication Infrastructure]
    G --> G1[Message Structure]
    G --> G2[Transport Mechanisms]
    G --> G3[Communication Patterns]
    G --> G4[Conversation Protocols]

    %% Execution Engine
    A --> H[Execution Engine]
    H --> H1[Container Orchestration]
    H --> H2[State Management]
    H --> H3[Task Processing]
    H --> H4[Resource Management]

    %% Security Layer
    A --> I[Security Layer]
    I --> I1[Authentication & Authorization]
    I --> I2[Data Protection]
    I --> I3[Threat Protection]
    I --> I4[Audit & Compliance]

    %% Learning & Self-Improvement
    A --> J[Learning & Self-Improvement Systems]
    J --> J1[Meta-Learning]
    J --> J2[Neural Architecture Search]
    J --> J3[Collective Intelligence]
    J --> J4[Self-Improvement]

    %% Ethics & Safety
    A --> K[Ethics & Safety Systems]
    K --> K1[Value Alignment]
    K --> K2[Explainability]
    K --> K3[Monitoring & Oversight]

    %% Specialized Agent Patterns
    A --> L[Specialized Agent Patterns]
    L --> L1[Research Agent]
    L --> L2[Coding Agent]
    L --> L3[Planning Agent]
    L --> L4[Creative Agent]
    L --> L5[Manager-Worker, Expert Panel, Teacher-Student Patterns]

    %% Cross-Layer Relationships
    B4 --> G4
    D1 --> F1
    D4 --> J1
    D5e --> F2
    E1 --> F3
    E2 --> H3
    G2 --> H1
    G3 --> H3
    G4 --> K2
    H2 --> I2
    H3 --> J4
    J3 --> K1
    K3 --> I3
    L1 --> D1
    L2 --> D3
    L3 --> D2
    L4 --> D4
    L5 --> B4