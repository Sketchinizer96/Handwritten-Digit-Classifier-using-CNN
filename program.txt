import requests

def clear_token_file():
    """Clears the token file at the start of execution."""
    with open("token.txt", "w") as file:
        file.write("")
    print("Token file cleared.")

def generate_token():
    url = "https://example.com/auth"  # Replace with the authentication URL
    payload = {
        "username": "your_username",  # Replace with your username
        "password": "your_password",  # Replace with your password
        "grant_type": "client_credentials"
    }
    headers = {
        "Content-Type": "application/json"
    }

    response = requests.post(url, json=payload, headers=headers)
    if response.status_code == 200:
        token = response.json().get("access_token")  # Adjust the key based on the API response
        return token
    else:
        print("Failed to generate token:", response.text)
        return None

if __name__ == "__main__":
    # Clear the token file at the start of execution
    clear_token_file()
    
    # Generate a new token
    token = generate_token()
    if token:
        with open("token.txt", "w") as file:
            file.write(token)
        print("Token saved to token.txt")
‚Äê---------
